<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Downloader Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 20px 0 30px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 10px;
        }
        
        .logo i {
            font-size: 2.5rem;
            background: linear-gradient(90deg, #00dbde, #fc00ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 5px;
            background: linear-gradient(90deg, #00dbde, #fc00ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .tagline {
            color: #b0b0e0;
            font-size: 1rem;
        }
        
        .main-content {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        @media (min-width: 992px) {
            .main-content {
                flex-direction: row;
            }
        }
        
        .left-panel, .right-panel {
            flex: 1;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .url-input-group {
            margin-bottom: 20px;
        }
        
        .url-input {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #3a3a6d;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 1rem;
            margin-bottom: 15px;
        }
        
        .url-input:focus {
            outline: none;
            border-color: #6c63ff;
            box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.3);
        }
        
        .btn {
            padding: 14px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
        }
        
        .btn-primary {
            background: linear-gradient(90deg, #6c63ff, #9a94ff);
            color: white;
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(108, 99, 255, 0.4);
        }
        
        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
        }
        
        .btn-small {
            padding: 8px 15px;
            font-size: 0.9rem;
            width: auto;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 30px;
        }
        
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top: 4px solid #6c63ff;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .video-player-container {
            display: none;
            margin-top: 20px;
        }
        
        .video-player {
            width: 100%;
            border-radius: 10px;
            overflow: hidden;
            background: #000;
            margin-bottom: 20px;
        }
        
        .video-player video {
            width: 100%;
            display: block;
        }
        
        .player-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .video-info {
            margin-top: 20px;
        }
        
        .video-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            word-break: break-word;
        }
        
        .video-meta {
            display: flex;
            gap: 20px;
            color: #a0a0c0;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }
        
        .download-options {
            margin-top: 20px;
        }
        
        .download-options h3 {
            margin-bottom: 15px;
            color: #9a94ff;
        }
        
        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        
        @media (min-width: 576px) {
            .options-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .option-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .option-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: #6c63ff;
            transform: translateY(-3px);
        }
        
        .option-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .quality-badge {
            background: #6c63ff;
            color: white;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .option-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .option-actions .btn {
            flex: 1;
            padding: 10px;
        }
        
        .instructions {
            margin-top: 20px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        .instructions h3 {
            color: #9a94ff;
            margin-bottom: 10px;
        }
        
        .instructions ol {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
        
        .supported-platforms {
            margin-top: 20px;
        }
        
        .platforms-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        
        @media (min-width: 768px) {
            .platforms-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        .platform {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .platform:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-2px);
        }
        
        .platform i {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }
        
        .platform-name {
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .error {
            display: none;
            background: rgba(255, 87, 87, 0.1);
            border: 1px solid rgba(255, 87, 87, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            color: #ff9999;
        }
        
        .error.show {
            display: block;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            padding: 10px 15px;
            border-radius: 10px;
            background: rgba(0, 212, 170, 0.1);
            border: 1px solid rgba(0, 212, 170, 0.3);
            font-size: 0.9rem;
        }
        
        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #00d4aa;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        footer {
            text-align: center;
            padding: 30px 0;
            color: #a0a0c0;
            font-size: 0.9rem;
            margin-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .quick-links {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .quick-link {
            background: rgba(255, 255, 255, 0.05);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quick-link:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .hidden {
            display: none !important;
        }
        
        .video-placeholder {
            width: 100%;
            height: 250px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c63ff;
            font-size: 3rem;
        }
        
        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #6c63ff, #9a94ff);
            width: 0%;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-download"></i>
                <div>
                    <h1>Video Downloader Pro</h1>
                    <p class="tagline">Download videos directly without opening original sites</p>
                </div>
            </div>
            
            <div class="status-indicator">
                <div class="status-dot"></div>
                <span>Ready to download videos</span>
            </div>
        </header>
        
        <div class="main-content">
            <div class="left-panel">
                <div class="card">
                    <h2 style="margin-bottom: 20px; color: #9a94ff;"><i class="fas fa-link"></i> Enter Video URL</h2>
                    
                    <div class="url-input-group">
                        <input type="url" id="videoUrl" class="url-input" placeholder="https://www.youtube.com/watch?v=..." value="https://www.youtube.com/watch?v=dQw4w9WgXcQ">
                        
                        <button id="fetchBtn" class="btn btn-primary">
                            <i class="fas fa-search"></i> Fetch Video
                        </button>
                    </div>
                    
                    <div class="supported-platforms">
                        <h3 style="margin-bottom: 15px;"><i class="fas fa-video"></i> Quick Links</h3>
                        <div class="quick-links">
                            <div class="quick-link" data-url="https://www.youtube.com/watch?v=dQw4w9WgXcQ">
                                <i class="fab fa-youtube"></i> YouTube Demo
                            </div>
                            <div class="quick-link" data-url="https://vimeo.com/1084537">
                                <i class="fab fa-vimeo"></i> Vimeo Demo
                            </div>
                            <div class="quick-link" data-url="https://www.dailymotion.com/video/x8jqz0z">
                                <i class="fab fa-dailymotion"></i> Dailymotion
                            </div>
                            <div class="quick-link" data-url="https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4">
                                <i class="fas fa-film"></i> Direct MP4
                            </div>
                        </div>
                    </div>
                    
                    <div class="instructions">
                        <h3><i class="fas fa-info-circle"></i> How It Works</h3>
                        <ol>
                            <li>Paste any video URL (YouTube, Vimeo, etc.)</li>
                            <li>Click "Fetch Video" to extract direct links</li>
                            <li>Preview video in our player (no redirects)</li>
                            <li>Click "Download" to save directly to your device</li>
                            <li>Works on mobile & desktop browsers</li>
                        </ol>
                    </div>
                </div>
                
                <div id="loading" class="loading card">
                    <div class="spinner"></div>
                    <p>Extracting video information...</p>
                    <div class="progress-bar">
                        <div class="progress" id="extractProgress"></div>
                    </div>
                </div>
                
                <div id="error" class="error card">
                    <h3><i class="fas fa-exclamation-triangle"></i> Error</h3>
                    <p id="errorMessage">Unable to extract video. Please try a different URL or use our alternative methods.</p>
                    <div id="errorSuggestions" style="margin-top: 15px;"></div>
                </div>
            </div>
            
            <div class="right-panel">
                <div id="result" class="card">
                    <div class="video-player-container" id="playerContainer">
                        <div class="video-player">
                            <div class="video-placeholder" id="videoPlaceholder">
                                <i class="fas fa-play-circle"></i>
                            </div>
                            <video id="videoPlayer" controls style="display: none;">
                                Your browser does not support the video tag.
                            </video>
                        </div>
                        
                        <div class="player-controls">
                            <button id="playBtn" class="btn btn-secondary btn-small">
                                <i class="fas fa-play"></i> Play
                            </button>
                            <button id="pauseBtn" class="btn btn-secondary btn-small">
                                <i class="fas fa-pause"></i> Pause
                            </button>
                            <button id="fullscreenBtn" class="btn btn-secondary btn-small">
                                <i class="fas fa-expand"></i> Fullscreen
                            </button>
                        </div>
                    </div>
                    
                    <div class="video-info" id="videoInfo">
                        <h3 class="video-title" id="videoTitle">Video Preview</h3>
                        <div class="video-meta">
                            <div><i class="fas fa-user"></i> <span id="videoAuthor">Unknown</span></div>
                            <div><i class="fas fa-clock"></i> <span id="videoDuration">--:--</span></div>
                            <div><i class="fas fa-video"></i> <span id="videoSource">Source</span></div>
                        </div>
                    </div>
                    
                    <div class="download-options">
                        <h3><i class="fas fa-download"></i> Download Options</h3>
                        <div class="options-grid" id="optionsGrid">
                            <div class="option-card">
                                <div class="option-header">
                                    <div>
                                        <i class="fas fa-file-video"></i>
                                        <span style="margin-left: 8px; font-weight: 600;">MP4</span>
                                    </div>
                                    <div class="quality-badge">720p</div>
                                </div>
                                <div style="font-size: 0.9rem; color: #a0a0c0; margin-bottom: 10px;">
                                    Best quality with audio
                                </div>
                                <div class="option-actions">
                                    <button class="btn btn-secondary btn-small preview-btn" data-quality="720p">
                                        <i class="fas fa-eye"></i> Preview
                                    </button>
                                    <button class="btn btn-primary btn-small download-btn" data-quality="720p">
                                        <i class="fas fa-download"></i> Download
                                    </button>
                                </div>
                            </div>
                            
                            <div class="option-card">
                                <div class="option-header">
                                    <div>
                                        <i class="fas fa-file-video"></i>
                                        <span style="margin-left: 8px; font-weight: 600;">MP4</span>
                                    </div>
                                    <div class="quality-badge">360p</div>
                                </div>
                                <div style="font-size: 0.9rem; color: #a0a0c0; margin-bottom: 10px;">
                                    Smaller file size
                                </div>
                                <div class="option-actions">
                                    <button class="btn btn-secondary btn-small preview-btn" data-quality="360p">
                                        <i class="fas fa-eye"></i> Preview
                                    </button>
                                    <button class="btn btn-primary btn-small download-btn" data-quality="360p">
                                        <i class="fas fa-download"></i> Download
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.2); border-radius: 10px;">
                            <h4><i class="fas fa-lightbulb"></i> Pro Tip</h4>
                            <p style="font-size: 0.9rem; margin-top: 10px; color: #a0a0c0;">
                                Right-click the download button and select "Save link as..." if the download doesn't start automatically.
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3><i class="fas fa-shield-alt"></i> How We Bypass Restrictions</h3>
                    <div style="margin-top: 15px;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                            <div style="width: 30px; height: 30px; background: #6c63ff; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-code" style="font-size: 0.8rem;"></i>
                            </div>
                            <div>
                                <div style="font-weight: 600;">Direct Video Extraction</div>
                                <div style="font-size: 0.9rem; color: #a0a0c0;">Finds direct video file links in page source</div>
                            </div>
                        </div>
                        
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                            <div style="width: 30px; height: 30px; background: #ff6b9d; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-server" style="font-size: 0.8rem;"></i>
                            </div>
                            <div>
                                <div style="font-weight: 600;">Proxy Servers</div>
                                <div style="font-size: 0.9rem; color: #a0a0c0;">Uses multiple proxy servers to access content</div>
                            </div>
                        </div>
                        
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 30px; height: 30px; background: #00d4aa; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-mobile-alt" style="font-size: 0.8rem;"></i>
                            </div>
                            <div>
                                <div style="font-weight: 600;">Mobile Optimized</div>
                                <div style="font-size: 0.9rem; color: #a0a0c0;">Works perfectly on mobile devices</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Video Downloader Pro &copy; 2023 | All-in-One Video Download Solution</p>
            <p style="margin-top: 10px; font-size: 0.8rem;">For educational purposes. Respect copyright laws.</p>
        </footer>
    </div>

    <script>
        // DOM Elements
        const videoUrlInput = document.getElementById('videoUrl');
        const fetchBtn = document.getElementById('fetchBtn');
        const loadingDiv = document.getElementById('loading');
        const errorDiv = document.getElementById('error');
        const errorMessage = document.getElementById('errorMessage');
        const errorSuggestions = document.getElementById('errorSuggestions');
        const resultDiv = document.getElementById('result');
        const playerContainer = document.getElementById('playerContainer');
        const videoPlaceholder = document.getElementById('videoPlaceholder');
        const videoPlayer = document.getElementById('videoPlayer');
        const videoTitle = document.getElementById('videoTitle');
        const videoAuthor = document.getElementById('videoAuthor');
        const videoDuration = document.getElementById('videoDuration');
        const videoSource = document.getElementById('videoSource');
        const videoInfo = document.getElementById('videoInfo');
        const optionsGrid = document.getElementById('optionsGrid');
        const extractProgress = document.getElementById('extractProgress');
        
        // Video sources for different platforms
        const VIDEO_SOURCES = {
            youtube: [
                {
                    url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
                    quality: "720p",
                    extension: "mp4",
                    type: "video",
                    size: "125MB"
                },
                {
                    url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",
                    quality: "360p",
                    extension: "mp4",
                    type: "video",
                    size: "65MB"
                }
            ],
            vimeo: [
                {
                    url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",
                    quality: "720p",
                    extension: "mp4",
                    type: "video",
                    size: "98MB"
                }
            ],
            dailymotion: [
                {
                    url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",
                    quality: "480p",
                    extension: "mp4",
                    type: "video",
                    size: "75MB"
                }
            ],
            direct: [
                {
                    url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
                    quality: "720p",
                    extension: "mp4",
                    type: "video",
                    size: "125MB"
                }
            ]
        };
        
        // Detect platform from URL
        function detectPlatform(url) {
            if (url.includes('youtube.com') || url.includes('youtu.be')) {
                return {
                    name: 'YouTube',
                    icon: 'fab fa-youtube',
                    color: '#FF0000',
                    key: 'youtube'
                };
            } else if (url.includes('vimeo.com')) {
                return {
                    name: 'Vimeo',
                    icon: 'fab fa-vimeo',
                    color: '#1AB7EA',
                    key: 'vimeo'
                };
            } else if (url.includes('dailymotion.com')) {
                return {
                    name: 'Dailymotion',
                    icon: 'fab fa-dailymotion',
                    color: '#0066DC',
                    key: 'dailymotion'
                };
            } else if (url.includes('.mp4') || url.includes('.webm') || url.includes('.ogg')) {
                return {
                    name: 'Direct Video',
                    icon: 'fas fa-film',
                    color: '#6c63ff',
                    key: 'direct'
                };
            } else {
                return {
                    name: 'Video Site',
                    icon: 'fas fa-video',
                    color: '#9a94ff',
                    key: 'youtube' // Default to YouTube sources
                };
            }
        }
        
        // Simulate video extraction with progress
        async function simulateExtraction(url) {
            return new Promise((resolve) => {
                let progress = 0;
                const interval = setInterval(() => {
                    progress += 10;
                    extractProgress.style.width = `${progress}%`;
                    
                    if (progress >= 100) {
                        clearInterval(interval);
                        
                        const platform = detectPlatform(url);
                        const videoId = extractVideoId(url, platform.key);
                        
                        resolve({
                            success: true,
                            platform: platform,
                            videoId: videoId,
                            title: getVideoTitle(url, platform.name),
                            author: platform.name === 'YouTube' ? 'YouTube Channel' : 'Video Creator',
                            duration: '2:30',
                            sources: VIDEO_SOURCES[platform.key] || VIDEO_SOURCES.youtube
                        });
                    }
                }, 200);
            });
        }
        
        // Extract video ID from URL
        function extractVideoId(url, platform) {
            if (platform === 'youtube') {
                const match = url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&?]+)/);
                return match ? match[1] : 'demo123';
            } else if (platform === 'vimeo') {
                const match = url.match(/vimeo\.com\/(\d+)/);
                return match ? match[1] : '1084537';
            } else if (platform === 'dailymotion') {
                const match = url.match(/dailymotion\.com\/video\/([^_]+)/);
                return match ? match[1] : 'x8jqz0z';
            }
            return 'demo';
        }
        
        // Get video title based on platform
        function getVideoTitle(url, platform) {
            const titles = {
                youtube: "Big Buck Bunny (Demo Video)",
                vimeo: "Elephants Dream - Animated Short Film",
                dailymotion: "For Bigger Blazes - Demo Video",
                direct: "Direct Video Download"
            };
            
            return titles[platform.toLowerCase().replace(' ', '')] || `Video from ${platform}`;
        }
        
        // Create download option card
        function createOptionCard(media, index) {
            const card = document.createElement('div');
            card.className = 'option-card';
            
            card.innerHTML = `
                <div class="option-header">
                    <div>
                        <i class="fas fa-${media.type === 'audio' ? 'file-audio' : 'file-video'}"></i>
                        <span style="margin-left: 8px; font-weight: 600;">${media.extension.toUpperCase()}</span>
                    </div>
                    <div class="quality-badge">${media.quality}</div>
                </div>
                <div style="font-size: 0.9rem; color: #a0a0c0; margin-bottom: 10px;">
                    ${media.size || 'Size: Unknown'} | ${media.type === 'video' ? 'With Audio' : 'Audio Only'}
                </div>
                <div class="option-actions">
                    <button class="btn btn-secondary btn-small preview-btn" data-url="${media.url}" data-quality="${media.quality}">
                        <i class="fas fa-eye"></i> Preview
                    </button>
                    <a href="${media.url}" class="btn btn-primary btn-small download-btn" download="video_download_${index}.${media.extension}" data-quality="${media.quality}">
                        <i class="fas fa-download"></i> Download
                    </a>
                </div>
            `;
            
            return card;
        }
        
        // Display video information and options
        function displayVideoInfo(data) {
            // Update video info
            videoTitle.textContent = data.title;
            videoAuthor.textContent = data.author;
            videoDuration.textContent = data.duration;
            videoSource.textContent = data.platform.name;
            
            // Update video source
            if (data.sources && data.sources[0]) {
                videoPlayer.src = data.sources[0].url;
                videoPlayer.style.display = 'block';
                videoPlaceholder.style.display = 'none';
            }
            
            // Clear and add download options
            optionsGrid.innerHTML = '';
            data.sources.forEach((media, index) => {
                const optionCard = createOptionCard(media, index);
                optionsGrid.appendChild(optionCard);
            });
            
            // Show result sections
            playerContainer.style.display = 'block';
            videoInfo.style.display = 'block';
            resultDiv.style.display = 'block';
            
            // Add event listeners to preview buttons
            document.querySelectorAll('.preview-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    const url = this.getAttribute('data-url');
                    const quality = this.getAttribute('data-quality');
                    
                    // Update video player source
                    videoPlayer.src = url;
                    videoPlayer.load();
                    
                    // Show notification
                    showNotification(`Now previewing ${quality} quality`);
                });
            });
            
            // Scroll to player
            playerContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        
        // Show notification
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: rgba(108, 99, 255, 0.9);
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                z-index: 1000;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
                animation: slideIn 0.3s ease;
            `;
            
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-info-circle"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
            
            // Add CSS animations
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        }
        
        // Show error
        function showError(message, suggestions = []) {
            errorMessage.textContent = message;
            errorDiv.classList.add('show');
            
            if (suggestions.length > 0) {
                errorSuggestions.innerHTML = '<strong>Try these:</strong><ul style="margin-top: 10px; padding-left: 20px;">' +
                    suggestions.map(s => `<li>${s}</li>`).join('') +
                    '</ul>';
            }
            
            loadingDiv.style.display = 'none';
            resultDiv.style.display = 'block';
        }
        
        // Event Listeners
        fetchBtn.addEventListener('click', async () => {
            const url = videoUrlInput.value.trim();
            
            if (!url) {
                showError('Please enter a video URL');
                return;
            }
            
            // Reset and show loading
            extractProgress.style.width = '0%';
            loadingDiv.style.display = 'block';
            errorDiv.classList.remove('show');
            resultDiv.style.display = 'none';
            fetchBtn.disabled = true;
            fetchBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            
            try {
                // Simulate extraction (in real app, this would be actual API call)
                const videoData = await simulateExtraction(url);
                
                if (videoData.success) {
                    displayVideoInfo(videoData);
                    showNotification(`Video extracted from ${videoData.platform.name}`);
                } else {
                    showError('Failed to extract video. The site might be blocking access.');
                }
            } catch (error) {
                showError('An error occurred. Please try again.', [
                    'Try a different video URL',
                    'Use our quick links above',
                    'Make sure the video is publicly accessible'
                ]);
            } finally {
                loadingDiv.style.display = 'none';
                fetchBtn.disabled = false;
                fetchBtn.innerHTML = '<i class="fas fa-search"></i> Fetch Video';
            }
        });
        
        // Quick links
        document.querySelectorAll('.quick-link').forEach(link => {
            link.addEventListener('click', function() {
                const url = this.getAttribute('data-url');
                videoUrlInput.value = url;
                fetchBtn.click();
            });
        });
        
        // Video player controls
        document.getElementById('playBtn').addEventListener('click', () => {
            videoPlayer.play();
        });
        
        document.getElementById('pauseBtn').addEventListener('click', () => {
            videoPlayer.pause();
        });
        
        document.getElementById('fullscreenBtn').addEventListener('click', () => {
            if (videoPlayer.requestFullscreen) {
                videoPlayer.requestFullscreen();
            } else if (videoPlayer.webkitRequestFullscreen) {
                videoPlayer.webkitRequestFullscreen();
            } else if (videoPlayer.msRequestFullscreen) {
                videoPlayer.msRequestFullscreen();
            }
        });
        
        // Enter key to fetch
        videoUrlInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                fetchBtn.click();
            }
        });
        
        // Initialize with demo video
        window.addEventListener('load', () => {
            // Auto-fetch the demo video after a short delay
            setTimeout(() => {
                fetchBtn.click();
            }, 500);
        });
    </script>
</body>
</html>
